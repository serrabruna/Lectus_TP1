<app-header></app-header>

<h1>Iniciar Sessão: </h1>

<section class="form-container">
  <form #formulario="ngForm" (ngSubmit)="onSubmit(formulario)" novalidate>

      <div class="form-grid">
          <div class="campo">
              <label for="email">E-mail: </label>
              <input type="email" id="email" name="email" [(ngModel)]="Usuario.email"
                  required minlength="10" placeholder="E-mail">

              <small class="erro"
                  [hidden]="!(formulario.controls['email']?.dirty && formulario.controls['email'].invalid)">
                  Informe um e-mail válido.
              </small>
          </div>
      </div> <!-- FECHOU -->

      <div class="form-grid">
          <div class="campo">
              <label for="senha">Senha: </label>
              <input type="password" id="senha" name="senha" [(ngModel)]="Usuario.senha"
                  required minlength="6" placeholder="Senha">

              <small class="erro"
                  [hidden]="!(formulario.controls['senha']?.dirty && formulario.controls['senha'].invalid)">
                  A senha é obrigatória e deve ter ao menos 6 caracteres.
              </small>
          </div>
      </div> <!-- FECHOU -->

      <div class="botoes-formulario">
          <button type="submit" [disabled]="formulario.invalid || enviando()">
              {{ enviando() ? 'Carregando...' : 'Finalizar Login' }}
          </button>
      </div>

      @if (mensagem()) {
        <p class="mensagem">{{ mensagem() }}</p>
      }

  </form>
</section>
